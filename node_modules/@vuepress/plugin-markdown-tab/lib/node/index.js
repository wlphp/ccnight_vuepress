import{tab as l}from"@mdit/plugin-tab";import{deepAssign as T}from"@vuepress/helper";import{ensureEndingSlash as v}from"vuepress/shared";import{path as g,getDirname as C}from"vuepress/utils";const b=n=>JSON.stringify(n).replace(/'/g,"&#39"),$=n=>{l(n,{name:"code-tabs",openRender:({active:t,data:e},o,s)=>{const{meta:a}=o[s],i=e.map(({title:r})=>n.renderInline(r)),d=e.map((r,p)=>{const{id:m=i[p]}=r;return{id:m}});return`<CodeTabs :data='${b(d)}'${t===-1?"":` :active="${t}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((r,p)=>`<template #title${p}="{ value, isActive }">${r}</template>
`).join("")}`},closeRender:()=>`</CodeTabs>
`,tabOpenRender:({index:t},e,o)=>{let s=!1;for(let a=o;a<e.length;a++){const{block:i,type:d}=e[a];if(i){if(d==="code-tabs_tab_close")break;if((d==="fence"||d==="import_code")&&!s){s=!0;continue}e[a].type="code_tab_empty",e[a].hidden=!0}}return`<template #tab${t}="{ value, isActive }">
`},tabCloseRender:()=>`</template>
`})},{url:w}=import.meta,k=C(w),c=v(g.resolve(k,"../client")),y=(n,{codeTabs:t,tabs:e})=>{const o=new Set,s=new Set;return t&&(o.add(`import { CodeTabs } from "${c}components/CodeTabs.js";`),s.add('app.component("CodeTabs", CodeTabs);')),e&&(o.add(`import { Tabs } from "${c}components/Tabs.js";`),s.add('app.component("Tabs", Tabs);')),n.writeTemp("markdown-tab/config.js",`${Array.from(o.values()).join(`
`)}
import "${c}styles/vars.css";

export default {
  enhance: ({ app }) => {
${Array.from(s.values()).map(a=>`    ${a}`).join(`
`)}
  },
};
`)},u=n=>{l(n,{name:"tabs",openRender:({active:t,data:e},o,s)=>{const{meta:a}=o[s],i=e.map(({title:r})=>n.renderInline(r)),d=e.map((r,p)=>{const{id:m=i[p]}=r;return{id:m}});return`<Tabs :data='${b(d)}'${t===-1?"":` :active="${t}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((r,p)=>`<template #title${p}="{ value, isActive }">${r}</template>
`).join("")}`},closeRender:()=>`</Tabs>
`,tabOpenRender:({index:t})=>`<template #tab${t}="{ value, isActive }">
`,tabCloseRender:()=>`</template>
`})},f="@vuepress/plugin-markdown-tab",R=n=>t=>{const e=T({},t.options.markdown.tab,n);return t.options.markdown.tab=e,!e.codeTabs&&!e.tabs?{name:f}:{name:f,extendsMarkdown:o=>{e.codeTabs&&o.use($),e.tabs&&o.use(u)},clientConfigFile:()=>y(t,e)}};export{$ as codeTabs,R as markdownTabPlugin,u as tabs};
//# sourceMappingURL=index.js.map
